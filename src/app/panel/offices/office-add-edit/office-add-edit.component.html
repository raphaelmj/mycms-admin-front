<div class="overshadow"
     (click)="closeEdit()">
</div>

<div class="saving-over"
     *ngIf="isSaving$| async">
  <mat-spinner color="accent"></mat-spinner>
</div>


<div class="edit-area">


  <div class="close-btn"
       (click)="closeEdit()">
    <span class="material-icons">
      close
    </span></div>

  <div class="scroll-inside">

    <div class="container-fluid pb-5">

      <form [formGroup]="form" (submit)="saveData()">

        <div class="row mb-2">
          <div class="col-md-6">
            <mat-form-field class="w-100">
              <input matInput
                     placeholder="Nazwa"
                     formControlName="title">
            </mat-form-field>
            <mat-form-field class="w-100">
              <input matInput
                     placeholder="Nazwa uzupełniająca"
                     formControlName="subTitle">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <h4>Adres</h4>
            <ckeditor formControlName="address" [config]="ckConfig"></ckeditor>
            <h4>Dodatkowe informacje</h4>
            <ckeditor formControlName="description" [config]="ckConfig"></ckeditor>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <h4>Telefony</h4>
            <app-strings-form-array [formArray]="form.get('phones')" placeholder="Numer telefonu"></app-strings-form-array>
          </div>
          <div class="col-md-6">
            <h4>Adresy email</h4>
            <app-strings-form-array [formArray]="form.get('emails')" placeholder="Email" validator="email"></app-strings-form-array>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <h4>Godziny otwarcia</h4>
            <app-strings-form-array [formArray]="form.get('hours')" placeholder="Godziny otwarcia"></app-strings-form-array>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <button mat-raised-button color="primary" class="w-100" type="button" (click)="contactsEdit()">
              <mat-icon>
                edit
              </mat-icon>
              Edytuj kontakty
            </button>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <hr>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <h2>Mapy biura</h2>
          </div>
        </div>

        <app-map-files-uploader
          [mapLessConfig]="lessMapConfig"
          [mapMoreConfig]="moreMapConfig"
          [currentMapFiles]="office.mapFiles"
          (onMapFilesChange)="onMapFilesChange($event)"
        >
        </app-map-files-uploader>

        <div class="row">
          <div class="col-md-12">
            <hr>
          </div>
        </div>

<!--        <div class="row">-->
<!--          <div class="col-md-12">-->
<!--            <h2>Mapy biura głównego</h2>-->
<!--          </div>-->
<!--        </div>-->

<!--        <app-map-files-uploader-->
<!--          [mapLessConfig]="mainLessMapConfig"-->
<!--          [mapMoreConfig]="mainMoreMapConfig"-->
<!--          [currentMapFiles]="office.mainMapFiles"-->
<!--          (onMapFilesChange)="onMainMapFilesChange($event)"-->
<!--        >-->
<!--        </app-map-files-uploader>-->

        <div class="row">
          <div class="col-md-6">
            <button mat-raised-button
                    color="primary"
                    class="btn-save">
              Zapisz
            </button>
          </div>
        </div>
      </form>

    </div>

  </div>

</div>
<ng-template #tempEdit></ng-template>
